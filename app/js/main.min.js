const buttonSearch=document.querySelector(".info__btn"),inputSearch=document.querySelector(".info__input"),APIKey="a8a1a655f133583bc05c1575299a8ec8";function weather(e){fetch(e).then((e=>e.json())).then((e=>{const t=document.querySelector(".out__location-city"),n=document.querySelector(".out__icon"),a=document.querySelector(".out__temp"),o=document.querySelector(".info__descr"),i=document.querySelector(".cloudy"),r=document.querySelector(".wind"),c=document.querySelector(".max-temp"),u=document.querySelector(".min-temp"),s=document.querySelector(".humadity"),m=document.querySelector(".weather");t.textContent=e.name,a.innerHTML=`${Math.round(e.main.temp)}<span>°</span>`,o.textContent=e.weather[0].description,i.innerHTML=`${e.clouds.all}<span>%</span><img src="images/cloudy.svg" alt=" ">`,r.innerHTML=`${Math.round(e.wind.speed/1e3*3600)}<span>km/h</span><img src="images/wind.svg" alt=" ">`,n.innerHTML=`<img src="images/icon/${e.weather[0].icon}.svg" alt=" ">`,c.innerHTML=`${Math.round(e.main.temp_max)}<span>°</span><img src="images/temp-max.svg" alt=" ">`,u.innerHTML=`${Math.round(e.main.temp_min)}<span>°</span><img src="images/temp-min.svg" alt=" ">`,s.innerHTML=`${e.main.humidity}<span>%</span><img src="images/humadity.svg" alt=" ">`,m.setAttribute("style",`background-image: url('images/icon/${e.weather[0].icon}.jpg');`)}))}function getLocatin(){navigator.geolocation?navigator.geolocation.getCurrentPosition(showPosition):(inputSearch.value="Kyiv",buttonSearch.click())}function showPosition(e){weather(`https://api.openweathermap.org/data/2.5/weather?${`lat=${e.coords.latitude}&lon=${e.coords.longitude}`}&units=metric&appid=${APIKey}`)}buttonSearch.addEventListener("click",(()=>{const e=inputSearch.value;""!==e&&weather(`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=metric&appid=${APIKey}`)})),inputSearch.addEventListener("keyup",(e=>{13===e.keyCode&&buttonSearch.click()})),window.addEventListener("load",(()=>{getLocatin()}));