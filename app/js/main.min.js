const buttonSearch=document.querySelector(".info__btn--search"),buttonLocation=document.querySelector(".info__btn--location"),inputSearch=document.querySelector(".info__input");function weather(e){fetch(`https://api.openweathermap.org/data/2.5/weather?${e}&units=metric&appid=a8a1a655f133583bc05c1575299a8ec8`).then((e=>e.json())).then((e=>{const t=document.querySelector(".out__location-city"),n=document.querySelector(".out__icon"),o=document.querySelector(".out__temp"),a=document.querySelector(".info__descr"),i=document.querySelector(".cloudy"),c=document.querySelector(".wind"),r=document.querySelector(".max-temp"),u=document.querySelector(".min-temp"),s=document.querySelector(".humadity"),m=document.querySelector(".weather");t.textContent=e.name,o.innerHTML=`${Math.round(e.main.temp)}<span>°</span>`,a.textContent=e.weather[0].description,i.innerHTML=`${e.clouds.all}<span>%</span><img src="images/cloudy.svg" alt=" ">`,c.innerHTML=`${Math.round(e.wind.speed/1e3*3600)}<span>km/h</span><img src="images/wind.svg" alt=" ">`,n.innerHTML=`<img src="images/icon/${e.weather[0].icon}.svg" alt=" ">`,r.innerHTML=`${Math.round(e.main.temp_max)}<span>°</span><img src="images/temp-max.svg" alt=" ">`,u.innerHTML=`${Math.round(e.main.temp_min)}<span>°</span><img src="images/temp-min.svg" alt=" ">`,s.innerHTML=`${e.main.humidity}<span>%</span><img src="images/humadity.svg" alt=" ">`,m.setAttribute("style",`background-image: url('images/icon/${e.weather[0].icon}.jpg');`)}))}function getLocatin(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(showPosition)}function showPosition(e){weather(`lat=${e.coords.latitude}&lon=${e.coords.longitude}`)}buttonSearch.addEventListener("click",(()=>{const e=inputSearch.value;""!==e&&(weather(`q=${e}`),inputSearch.value="")})),buttonLocation.addEventListener("click",(()=>{getLocatin()})),inputSearch.addEventListener("keyup",(e=>{13===e.keyCode&&buttonSearch.click()})),window.addEventListener("load",(()=>{buttonSearch.click()}));